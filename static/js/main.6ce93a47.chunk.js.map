{"version":3,"sources":["home/HomePage.js","Common/DataTable.js","Common/Pagination.js","api/api.js","api/people.js","people/PeoplePage.js","people/PeopleDetailsPage.js","App.js","index.js"],"names":["categories","url","title","id","HomePage","react_default","a","createElement","className","map","_ref","key","NavLink","to","toLowerCase","src","alt","DataTable","state","sortColumn","sortAsc","handleHeaderClick","_this","setState","prevState","_this$state","this","items","props","sign","sortFn","b","localeCompare","sort","_this2","visibleItems","getSortedItems","config","Object","entries","_ref2","slicedToArray","value","isSortable","onClick","item","name","keys","render","React","Component","withRouter","location","count","_ref$perPage","page","perPage","pagesCount","Math","ceil","pages","i","push","getSearchWithPage","urlParams","URLSearchParams","search","set","toString","console","log","Link","pathname","get","arguments","length","undefined","fetch","then","response","json","getAll","_ref3","_ref3$page","_ref3$search","concat","peopleColumnConfig","isSearchable","person","mass","hair_color","skin_color","birth_year","gender","height","species","homeworld","PeoplePage","isLoaded","people","loadPeople","_callee","regenerator_default","wrap","_context","prev","next","peopleApi","sent","results","stop","updatePageFromURL","Fragment","Common_Pagination","Common_DataTable","PeopleDetailsPage","App","Switch","Route","exact","path","component","ReactDOM","BrowserRouter","basename","process","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6ce93a47.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst categories = [\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/character.jpg',\n    title: 'People',\n    id: 1,\n  },\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/films.jpg',\n    title: 'Films',\n    id: 2,\n  },\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/planets.jpg',\n    title: 'Planets',\n    id: 3,\n  },\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/species.jpg',\n    title: 'Species',\n    id: 4,\n  },\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/starships.jpg',\n    title: 'Starships',\n    id: 5,\n  },\n  {\n    url: 'https://starwars-visualguide.com/assets/img/categories/vehicles.jpg',\n    title: 'Vehicles',\n    id: 6,\n  },\n];\n\nconst HomePage = () => (\n  <div className=\"home_page-container\">\n    {categories.map(({ title, url, id }) => (\n      <div\n        className=\"home_page-category\"\n        key={id}\n      >\n        <h3 className=\"title-image\">{title}</h3>\n        <NavLink to={title.toLowerCase()}>\n          <img src={url} alt={title} />\n        </NavLink>\n      </div>\n    ))}\n\n  </div>\n);\n\nexport default HomePage;","import React from 'react';\n\nclass DataTable extends React.Component {\n  state = {\n    sortColumn: null,\n    sortAsc: true,\n  };\n\n  handleHeaderClick = (key) => {\n    this.setState((prevState) => ({\n      sortColumn: key,\n      sortAsc: prevState.sortColumn === key ? !prevState.sortAsc : true,\n    }));\n  };\n\n  getSortedItems() {\n    const { sortColumn, sortAsc } = this.state;\n    const { items } = this.props;\n    if (!sortColumn) {\n      return items;\n    }\n    const sign = sortAsc ? 1 : -1;\n    const sortFn = typeof items[0][sortColumn] === 'number'\n      ? (a, b) => sign * (a[sortColumn] - b[sortColumn])\n      : (a, b) => sign * a[sortColumn].localeCompare(b[sortColumn])\n    ;\n    return items.sort(sortFn);\n  }\n  render() {\n    const visibleItems = this.getSortedItems();\n    const { config } = this.props;\n    return (\n      <div className=\"Datatable\">\n        <table>\n          <thead>\n          <tr>\n              { Object.entries(config).map(([key, value]) => (\n                <th\n                  key={key}\n                  className={value.isSortable ? 'sortable-column' : ''}\n                  onClick={value.isSortable\n                    ? () => this.handleHeaderClick(key)\n                    : null\n                  }\n                >\n                  {value.title}\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          <tbody>\n          {visibleItems.map(item =>\n          <tr key={item.name}>\n          { Object.keys(config).map(key => (\n            <td key={key}>\n              {config[key].render ? config[key].render(item) : item[key]}\n            </td>\n          ))}\n        </tr>\n      )}\n      </tbody>\n    </table>\n  </div>\n)\n}\n}\n\n\nexport default DataTable;\n","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst Pagination = ({ location, count, page = 1, perPage = 10 }) => {\n\n  const pagesCount = Math.ceil(count / perPage);\n  const pages = [];\n\n  for (let i = 0; i < pagesCount; i++) {\n    pages.push(i + 1);\n  }\n\n  const getSearchWithPage = (page) => {\n    const urlParams = new URLSearchParams(location.search);\n\n    urlParams.set('page', page);\n\n    return urlParams.toString();\n  };\n\n  console.log(location);\n\n  return (\n    <div className=\"Pagination\">\n      {pages.map(page => (\n        <Link\n          key={page}\n          to={{\n            pathname: location.pathname,\n            search: getSearchWithPage(page)\n          }}\n        >\n          {page}\n        </Link>\n      ))}\n    </div>\n  );\n};\n\nPagination.propTypes = {\n  count: PropTypes.number.isRequired,\n  page: PropTypes.number,\n  perPage: PropTypes.number,\n};\n\nexport default withRouter(Pagination);\n","export const getIdFromUrl = url => {\n  const [, id] = url.match(/(\\d+)\\/$/);\n\n  return id;\n};\n\nconst BASE_API_URL = 'https://swapi.co/api';\n\nexport const get = (url, params = {}) => {\n  return fetch(BASE_API_URL + url)\n    .then(response => response.json())\n};\n\n\n\n","import { get, getIdFromUrl } from './api';\n\nconst BASE_URL = '/people'\n\n\nexport const getPersonId = async () => {\n  const { results } = await get(BASE_URL);\n  \n  return results.map(person => {\n    return {\n       id: getIdFromUrl(person.url),\n    };\n  })\n}\n\nexport const getAll = ({ page = 1, search = 'e' }) => {\n  const urlParams = new URLSearchParams();\n\n  urlParams.set('page', page);\n  urlParams.set('search', search);\n\n  return get(`/people?${urlParams.toString()}`);\n};\n\n// export const getOne = (id)  => (\n//    get(`${BASE_URL}/${id})\n// )","import React from 'react';\n\nimport DataTable from '../Common/DataTable';\nimport Pagination from '../Common/Pagination'\n\nimport { NavLink } from 'react-router-dom';\nimport * as peopleApi from '../api/people';\n\n\nconst peopleColumnConfig = {\n  \n  name: {\n    title: 'Name',\n    isSortable: true,\n    isSearchable: true,\n    render: person => (\n      <NavLink to={`/people/${person.id}`}>{person.name}</NavLink>\n    ),\n  },\n  mass: {\n    title: 'Mass',\n    isSortable: true,\n  },\n  hair_color: {\n    title: 'Hair Color',\n  },\n  skin_color: {\n    title: 'Skin Color',\n  },\n  birth_year: {\n    title: 'Born',\n    isSortable: true,\n  },\n  gender: {\n    title: 'Gender',\n  },\n  height: {\n    title: 'Height',\n  },\n  species: {\n    title: 'Species',\n  },\n  homeworld: {\n    title: 'Homeworld ',\n  },\n  \n};\n\n\n\nclass PeoplePage extends React.Component {\n    state = {\n      isLoaded: false,\n      people: [],\n      config: peopleColumnConfig,\n      page: 0,\n    };\n  \n\n    componentDidMount() {\n      this.updatePageFromURL();\n    }\n  \n    componentDidUpdate() {\n      this.updatePageFromURL();\n    }\n  \n    updatePageFromURL() {\n      const { location } = this.props;\n      const urlParams = new URLSearchParams(location.search);\n      const page = +urlParams.get('page') || 1;\n  \n      if (page === this.state.page) {\n        return;\n      }\n  \n      this.setState({ page }, this.loadPeople);\n    }\n  \n    loadPeople = async () => {\n        const {page} = this.state;\n        const { count, results: people} = await peopleApi.getAll({page});\n    \n          this.setState({\n            people,\n            count,\n            isLoaded: true,\n          });\n    }\n  \n    render () {\n      const { people, config, isLoaded, count, page  } = this.state;\n  \n      return (\n        <div className=\"App\">\n          <h1>PeoplePage</h1>\n          { isLoaded ? (\n            <>\n            <Pagination count={count} page={page} />\n            <DataTable\n              items={people}\n              config={config}\n            />\n          </>) : (<h1>Loading...</h1>)}\n        </div>\n      );\n    }\n  }\n  \n  \n\nexport default PeoplePage;","import React from \"react\";\nimport { getAll } from \"../api/people\"\n\n  \n\nconst PeopleDetailsPage = () => {\n  return (\n    <>\n      <h1>People Details Page</h1>\n    </>\n  );\n};\nexport default PeopleDetailsPage;\n\n// class PeopleDetailsPage extends React.Component {\n//   state = {\n//     people: [],\n//     page: 0,\n//   };\n\n//   componentDidMount() {\n//     this.updatePageFromURL();\n//   }\n\n//   componentDidUpdate() {\n//     this.updatePageFromURL();\n//   }\n\n//   updatePageFromURL() {\n//     const { location } = this.props;\n//     const urlParams = new URLSearchParams(location.search);\n//     const page = +urlParams.get('page') || 1;\n\n//     if (page === this.state.page) {\n//       return;\n//     }\n\n//     this.setState({ page }, this.loadPeople);\n//   }\n\n//   loadPeople = async () => {\n//       const {page} = this.state;\n//       const { count, results: people} = await peopleApi.getAll({page});\n  \n//         this.setState({\n//           people,\n//           count,\n//           isLoaded: true,\n//         });\n//   }\n    \n//     render() {\n//       return (\n//         <div>\n//            <span>  People Details Page </span>\n//              {this.state.name}\n//         </div>\n//         )\n//     }\n// }\n\n// export default PeopleDetailsPage\n\n\n","import React from 'react';\nimport { NavLink, Switch, Route } from 'react-router-dom';\nimport HomePage from './home/HomePage'\nimport PeoplePage from './people/PeoplePage';\nimport PeopleDetailsPage from './people/PeopleDetailsPage';\n\n\n//import Films from './Components/Films';\n// import Planets from './Components/Planets';\n// import Species from './Components/Species';\n\n\n\n\nconst App = () => (\n  <div className=\"App\">\n    <header>\n      <h1 className=\"title\">Star Wars</h1>\n    </header>\n    <nav className=\"NavLink\">\n      <ul>\n        <li><NavLink className=\"NavLink-items\" to=\"/\">Home</NavLink></li>\n        <li><NavLink className=\"NavLink-items\" to=\"/people\">People</NavLink></li>\n        {/* <li><NavLink className=\"NavLink-items\" to=\"/films\">Films</NavLink></li>\n        <li><NavLink className=\"NavLink-items\" to=\"/planets\">Planets</NavLink></li>\n        <li><NavLink className=\"NavLink-items\" to=\"/species\">Species</NavLink></li> */}\n      </ul>\n    </nav>\n    <section>\n      <Switch>\n        <Route exact path=\"/\" component={HomePage} />\n        <Route exact path=\"/people\" component={PeoplePage} />\n        <Route exact path=\"/people/:peopleId\" component={PeopleDetailsPage} />\n        {/* <Route exact path=\"/films\" component={Films} />\n        <Route exact path=\"/planets\" component={Planets} />\n        <Route exact path=\"/species\" component={Species} />\n        <Route render={() => <div>Page not found</div>} /> */}\n      </Switch>\n    </section>\n  </div>\n);\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n<BrowserRouter basename={process.env.PUBLIC_URL}>\n     <App />\n</BrowserRouter>,\n document.getElementById('root'));\n\n\n"],"sourceRoot":""}